<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="WATCHOUT User Guide - Chroma Key">
    <title>Chroma Key - WATCHOUT 7 User Guide</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../styles.css">
    <link rel="stylesheet" href="../styles-badges.css">
    <script>
        // Apply saved theme immediately to prevent flash
        (function () {
            const theme = localStorage.getItem('watchout-wiki-theme') || 'dark';
            document.documentElement.setAttribute('data-theme', theme);
        })();
    </script>
</head>
<body data-page-id="chroma-key">
    <div class="app">
        <!-- Sidebar Navigation -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <a href="../index.html" class="logo" style="text-decoration: none; color: inherit;">
                    <span class="logo-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path>
                            <path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path>
                        </svg>
                    </span>
                    <h1>WATCHOUT GUIDE</h1>
                </a>

            </div>

            <div class="search-container">
                <span class="search-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="11" cy="11" r="8"></circle>
                        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                    </svg>
                </span>
                <input type="text" id="search-input" class="search-input" placeholder="Search documentation...">
                <button class="search-clear" id="search-clear" aria-label="Clear search">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>

            <nav class="toc-nav" id="toc-nav">
                
        <div class="toc-chapter  " data-index="0">
            <a href="../getting-started/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg></span>
                <span class="toc-chapter-title">1. Getting Started</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../getting-started/welcome-to-watchout-7.html">
                            Welcome To Watchout 7
                        </a>
                        
                        <a class="toc-subsection " href="../getting-started/system-requirements.html">
                            System Requirements
                        </a>
                        
                        <a class="toc-subsection " href="../getting-started/installing-watchout.html">
                            Installing Watchout
                        </a>
                        
                        <a class="toc-subsection " href="../getting-started/launching-the-application.html">
                            Launching The Application
                        </a>
                        
                        <a class="toc-subsection " href="../getting-started/network-configuration.html">
                            Network Configuration
                        </a>
                        
                        <a class="toc-subsection " href="../getting-started/quick-start-tutorial.html">
                            Quick Start Tutorial
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="1">
            <a href="../working-with-shows/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></span>
                <span class="toc-chapter-title">2. Working with Shows</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../working-with-shows/creating-a-new-show.html">
                            Creating a New Show
                        </a>
                        
                        <a class="toc-subsection " href="../working-with-shows/opening-existing-shows.html">
                            Opening Existing Shows
                        </a>
                        
                        <a class="toc-subsection " href="../working-with-shows/saving-your-work.html">
                            Saving Your Work
                        </a>
                        
                        <a class="toc-subsection " href="../working-with-shows/show-properties.html">
                            Show Properties
                        </a>
                        
                        <a class="toc-subsection " href="../working-with-shows/show-consolidation.html">
                            Show Consolidation
                        </a>
                        
                        <a class="toc-subsection " href="../working-with-shows/show-information.html">
                            Show Information
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="2">
            <a href="../displays-and-outputs/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="2" ry="2"></rect><line x1="8" y1="21" x2="16" y2="21"></line><line x1="12" y1="17" x2="12" y2="21"></line></svg></span>
                <span class="toc-chapter-title">3. Displays and Outputs</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../displays-and-outputs/adding-displays.html">
                            Adding Displays
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/virtual-displays.html">
                            Virtual Displays
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/3d-mapping-projectors.html">
                            3D Mapping Projectors
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/display-grid-setup.html">
                            Display Grid Setup
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/display-properties.html">
                            Display Properties
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/edge-blending.html">
                            Edge Blending
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/warp-geometry.html">
                            Warp Geometry
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/display-masks.html">
                            Display Masks
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/sdi-output.html">
                            SDI Output
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/hdr-and-color-management.html">
                            HDR and Color Management
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/test-patterns.html">
                            Test Patterns
                        </a>
                        
                        <a class="toc-subsection " href="../displays-and-outputs/display-calibration.html">
                            Display Calibration
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="3">
            <a href="../assets-asset-manager/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="2.18" ry="2.18"></rect><line x1="7" y1="2" x2="7" y2="22"></line><line x1="17" y1="2" x2="17" y2="22"></line><line x1="2" y1="12" x2="22" y2="12"></line><line x1="2" y1="7" x2="7" y2="7"></line><line x1="2" y1="17" x2="7" y2="17"></line><line x1="17" y1="17" x2="22" y2="17"></line><line x1="17" y1="7" x2="22" y2="7"></line></svg></span>
                <span class="toc-chapter-title">4. Assets & Asset Manager</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../assets-asset-manager/asset-manager.html">
                            Asset Manager
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/asset-types.html">
                            Asset Types
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/asset-properties.html">
                            Asset Properties
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/formats-codecs.html">
                            Formats & Codecs
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/svg-shapes.html">
                            SVG Shapes
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/dynamic-assets.html">
                            Dynamic Assets
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/image-sequences.html">
                            Image Sequences
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/web-user-interface.html">
                            Web User Interface
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/asset-watcher.html">
                            Asset Watcher
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/asset-transfer.html">
                            Asset Transfer
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/asset-manager-settings.html">
                            Asset Manager Settings
                        </a>
                        
                        <a class="toc-subsection " href="../assets-asset-manager/import-export-and-mapping.html">
                            Import, Export, and Mapping
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="4">
            <a href="../timeline-and-cues/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg></span>
                <span class="toc-chapter-title">5. Timeline and Cues</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../timeline-and-cues/understanding-the-timeline.html">
                            Understanding the Timeline
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/adding-media-cues.html">
                            Adding Media Cues
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/working-with-layers.html">
                            Working with Layers
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/adjusting-timing.html">
                            Adjusting Timing
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/control-cues.html">
                            Control Cues
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/marker-cues.html">
                            Marker Cues
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/output-cues.html">
                            Output Cues
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/variables-and-variable-cues.html">
                            Variables and Variable Cues
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/artnet-fixture-cues.html">
                            ArtNet Fixture Cues
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/compositions.html">
                            Compositions
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/cue-sets-and-variants.html">
                            Cue Sets and Variants
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/media-snapshots.html">
                            Media Snapshots
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/stacking-order.html">
                            Stacking Order
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/timeline-triggers-and-expressions.html">
                            Timeline Triggers and Expressions
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/blind-edit-mode.html">
                            Blind Edit Mode
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/insert-and-delete-time.html">
                            Insert and Delete Time
                        </a>
                        
                        <a class="toc-subsection " href="../timeline-and-cues/conditional-cues.html">
                            Conditional Cues
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter expanded " data-index="5">
            <a href="../effects-and-tweens/index.html" class="toc-chapter-header  expanded" style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg></span>
                <span class="toc-chapter-title">6. Effects and Tweens</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections expanded">
                    
                        <a class="toc-subsection " href="../effects-and-tweens/understanding-tweens.html">
                            Understanding Tweens
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/position-and-movement.html">
                            Position and Movement
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/scale-and-size.html">
                            Scale and Size
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/rotation-effects.html">
                            Rotation Effects
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/opacity-and-fades.html">
                            Opacity and Fades
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/cropping.html">
                            Cropping
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/color-adjustments.html">
                            Color Adjustments
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/blur-effects.html">
                            Blur Effects
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/audio-volume.html">
                            Audio Volume
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/corner-pinning.html">
                            Corner Pinning
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/linear-wipe.html">
                            Linear Wipe
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/blend-modes.html">
                            Blend Modes
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/frame-blending.html">
                            Frame Blending
                        </a>
                        
                        <a class="toc-subsection active" href="../effects-and-tweens/chroma-key.html">
                            Chroma Key
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/key-and-fill.html">
                            Key and Fill
                        </a>
                        
                        <a class="toc-subsection " href="../effects-and-tweens/tween-expressions.html">
                            Tween Expressions
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="6">
            <a href="../playback/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg></span>
                <span class="toc-chapter-title">7. Playback</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../playback/starting-and-stopping.html">
                            Starting and Stopping
                        </a>
                        
                        <a class="toc-subsection " href="../playback/preview-mode.html">
                            Preview Mode
                        </a>
                        
                        <a class="toc-subsection " href="../playback/connecting-to-display-servers.html">
                            Connecting to Display Servers
                        </a>
                        
                        <a class="toc-subsection " href="../playback/going-online.html">
                            Going Online
                        </a>
                        
                        <a class="toc-subsection " href="../playback/running-your-show.html">
                            Running Your Show
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="7">
            <a href="../the-interface/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><line x1="3" y1="9" x2="21" y2="9"></line><line x1="9" y1="21" x2="9" y2="9"></line></svg></span>
                <span class="toc-chapter-title">8. The Interface</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../the-interface/main-window-overview.html">
                            Main Window Overview
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-stage-window.html">
                            The Stage Window
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-timeline-window.html">
                            The Timeline Window
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-cue-list-window.html">
                            The Cue List Window
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-assets-window.html">
                            The Assets Window
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-properties-panel.html">
                            The Properties Panel
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-network-window.html">
                            The Network Window
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/the-nodes-window.html">
                            The Nodes Window
                        </a>
                        
                        <a class="toc-subsection " href="../the-interface/customizing-your-workspace.html">
                            Customizing Your Workspace
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="8">
            <a href="../network-setup/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="2" y1="12" x2="22" y2="12"></line><path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg></span>
                <span class="toc-chapter-title">9. Network Setup</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../network-setup/network-overview.html">
                            Network Overview
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/display-servers.html">
                            Display Servers
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/connecting-devices.html">
                            Connecting Devices
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/firewall-configuration.html">
                            Firewall Configuration
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/ndi-video-sources.html">
                            NDI Video Sources
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/dante-audio.html">
                            Dante Audio
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/node-management-and-maintenance.html">
                            Node Management and Maintenance
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/remote-file-access.html">
                            Remote File Access
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/working-directory-management.html">
                            Working Directory Management
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/software-updates.html">
                            Software Updates
                        </a>
                        
                        <a class="toc-subsection " href="../network-setup/time-synchronization.html">
                            Time Synchronization
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="9">
            <a href="../external-control/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg></span>
                <span class="toc-chapter-title">10. External Control</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../external-control/external-control-overview.html">
                            External Control Overview
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/variables-and-inputs.html">
                            Variables and Inputs
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/osc-protocol.html">
                            OSC Protocol
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/midi-bridge.html">
                            MIDI Bridge
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/ltc-bridge.html">
                            LTC Bridge
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/http-rest-api.html">
                            HTTP REST API
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/artnet-input.html">
                            ArtNet Input
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/posistagenet.html">
                            PosiStageNet
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/midi-show-control.html">
                            MIDI Show Control
                        </a>
                        
                        <a class="toc-subsection " href="../external-control/watchout-6-protocol.html">
                            WATCHOUT 6 Protocol
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="10">
            <a href="../keyboard-shortcuts/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="4" width="20" height="16" rx="2" ry="2"></rect><path d="M6 8h.001"></path><path d="M10 8h.001"></path><path d="M14 8h.001"></path><path d="M18 8h.001"></path><path d="M8 12h.001"></path><path d="M12 12h.001"></path><path d="M16 12h.001"></path><path d="M7 16h10"></path></svg></span>
                <span class="toc-chapter-title">11. Keyboard Shortcuts</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../keyboard-shortcuts/file-operations.html">
                            File Operations
                        </a>
                        
                        <a class="toc-subsection " href="../keyboard-shortcuts/edit-commands.html">
                            Edit Commands
                        </a>
                        
                        <a class="toc-subsection " href="../keyboard-shortcuts/stage-navigation.html">
                            Stage Navigation
                        </a>
                        
                        <a class="toc-subsection " href="../keyboard-shortcuts/timeline-controls.html">
                            Timeline Controls
                        </a>
                        
                        <a class="toc-subsection " href="../keyboard-shortcuts/tween-shortcuts.html">
                            Tween Shortcuts
                        </a>
                        
                        <a class="toc-subsection " href="../keyboard-shortcuts/window-management.html">
                            Window Management
                        </a>
                        
                </div>
            
        </div>
        
        <div class="toc-chapter  " data-index="11">
            <a href="../troubleshooting/index.html" class="toc-chapter-header  " style="text-decoration: none; display: flex;">
                <span class="toc-chapter-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="8" x2="12" y2="12"></line><line x1="12" y1="16" x2="12.01" y2="16"></line></svg></span>
                <span class="toc-chapter-title">12. Troubleshooting</span>
                
                    <svg class="toc-chapter-arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                
            </a>
            
                <div class="toc-subsections ">
                    
                        <a class="toc-subsection " href="../troubleshooting/common-issues.html">
                            Common Issues
                        </a>
                        
                        <a class="toc-subsection " href="../troubleshooting/performance-tips.html">
                            Performance Tips
                        </a>
                        
                        <a class="toc-subsection " href="../troubleshooting/display-problems.html">
                            Display Problems
                        </a>
                        
                        <a class="toc-subsection " href="../troubleshooting/network-issues.html">
                            Network Issues
                        </a>
                        
                        <a class="toc-subsection " href="../troubleshooting/media-playback-issues.html">
                            Media Playback Issues
                        </a>
                        
                        <a class="toc-subsection " href="../troubleshooting/feedback-reports.html">
                            Feedback Reports
                        </a>
                        
                        <a class="toc-subsection " href="../troubleshooting/getting-help.html">
                            Getting Help
                        </a>
                        
                </div>
            
        </div>
        
            </nav>

            <div class="sidebar-footer">
                <div class="tools-section">
                    <span class="tools-label">Tools</span>
                    <div class="tools-buttons">
                        <a href="../../shortcuts/index.html" class="tools-btn" title="Keyboard Shortcuts">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="2" y="4" width="20" height="16" rx="2" ry="2"></rect>
                                <path d="M6 8h.001"></path>
                                <path d="M10 8h.001"></path>
                                <path d="M14 8h.001"></path>
                                <path d="M18 8h.001"></path>
                                <path d="M8 12h.001"></path>
                                <path d="M12 12h.001"></path>
                                <path d="M16 12h.001"></path>
                                <path d="M7 16h10"></path>
                            </svg>
                        </a>
                        <a href="../../planner/index.html" class="tools-btn" title="Infrastructure Planner">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="18" cy="5" r="3"></circle>
                                <circle cx="6" cy="12" r="3"></circle>
                                <circle cx="18" cy="19" r="3"></circle>
                                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                            </svg>
                        </a>
                        <a href="../../test-patterns/index.html" class="tools-btn" title="Test Pattern Generator">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="3" y="3" width="7" height="7"></rect>
                                <rect x="14" y="3" width="7" height="7"></rect>
                                <rect x="14" y="14" width="7" height="7"></rect>
                                <rect x="3" y="14" width="7" height="7"></rect>
                            </svg>
                        </a>
                        <button class="tools-btn" id="theme-toggle" aria-label="Toggle theme" title="Toggle light/dark theme">
                             <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                            </svg>
                            <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="5"></circle>
                                <line x1="12" y1="1" x2="12" y2="3"></line>
                                <line x1="12" y1="21" x2="12" y2="23"></line>
                                <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                                <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                                <line x1="1" y1="12" x2="3" y2="12"></line>
                                <line x1="21" y1="12" x2="23" y2="12"></line>
                                <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                                <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                            </svg>
                             <svg class="midnight-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <circle cx="12" cy="12" r="4"></circle>
                                <line x1="4.93" y1="4.93" x2="9.17" y2="9.17"></line>
                                <line x1="19.07" y1="19.07" x2="14.83" y2="14.83"></line>
                                <line x1="4.93" y1="19.07" x2="9.17" y2="14.83"></line>
                                <line x1="19.07" y1="4.93" x2="14.83" y2="9.17"></line>
                            </svg>
                             <svg class="rust-icon" xmlns="http://www.w3.org/2000/svg" width="18" height="18"
                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                                <polyline points="2 17 12 22 22 17"></polyline>
                                <polyline points="2 12 12 17 22 12"></polyline>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content" id="main-content">
            <header class="content-header">
                <button class="mobile-menu-btn" id="mobile-menu-btn" aria-label="Open Menu">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <line x1="3" y1="12" x2="21" y2="12"></line>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <line x1="3" y1="18" x2="21" y2="18"></line>
                    </svg>
                </button>
                <div class="breadcrumb" id="breadcrumb">
                    
            <a href="../index.html" class="breadcrumb-item">Home</a>
            <span class="breadcrumb-separator">›</span>
            <a href="index.html" class="breadcrumb-item">6. Effects and Tweens</a>
            <span class="breadcrumb-separator">›</span>
            <span class="breadcrumb-item current">Chroma Key</span>
        
                </div>
            </header>

            <article class="content-body" id="content-body">
                <div class="section-content" style="display: block;">
                    <div class="section-content-body"><h2>Chroma Key</h2>

<p>Chroma Key is a per-cue compositing technique that removes a specific color from a cue's rendered output, making those areas transparent. This is commonly used to remove green screen or blue screen backgrounds from video footage, allowing the foreground subject to be composited over other content in the show.</p>

<p>WATCHOUT performs chroma keying in the renderer's color pipeline, operating in a wide-gamut color space (Rec. 2020 YCbCr) for accurate color matching regardless of the source media's color standard.</p>

<h3>Enabling Chroma Key</h3>

<p>To enable chroma keying on a cue:</p>

<ol>
<li>Select the media cue in the Timeline.</li>
<li>Open the <strong>Properties</strong> panel.</li>
<li>Locate the <strong>Chroma Key</strong> section.</li>
<li>Toggle the <strong>Enabled</strong> switch on.</li>

</ol>
Once enabled, the cue immediately begins keying out the target color (green by default). You can then fine-tune the parameters to achieve a clean key.

<h3>Presets</h3>

<p>WATCHOUT provides three preset options for quick setup:</p>

<ul>
<li><strong>Green</strong> — targets a standard chroma green (RGB 0, 177, 64). This is the default preset and the most common choice for green screen footage.</li>
<li><strong>Blue</strong> — targets a standard chroma blue for blue screen footage.</li>
<li><strong>Custom</strong> — allows you to specify an arbitrary target color using the color controls.</li>

</ul>
Selecting a preset immediately updates the target color. You can further refine the color after selecting a preset.

<h3>Target Color</h3>

<p>The target color defines which color will be keyed out of the cue's output. You can specify the color using two sets of controls:</p>

<ul>
<li><strong>RGB</strong> (Red, Green, Blue) — set exact color component values.</li>
<li><strong>HSV</strong> (Hue, Saturation, Value) — set the color using the hue/saturation/brightness model, which can be more intuitive for selecting colors visually.</li>

</ul>
A <strong>Change</strong> button opens a color picker for visual target selection. Both RGB and HSV controls update together — changing one set automatically reflects in the other.

<h3>Tolerance</h3>

<p>The tolerance parameters control how closely a pixel's color must match the target color to be keyed out:</p>

<ul>
<li><strong>Min</strong> (default: 0.4) — defines the inner boundary. Pixels whose color distance from the target is less than or equal to Min are made <strong>fully transparent</strong>.</li>
<li><strong>Max</strong> (default: 0.5) — defines the outer boundary. Pixels whose color distance falls between Min and Max receive <strong>partial transparency</strong>, creating a smooth falloff at the edges of the keyed region.</li>

</ul>
Pixels with a color distance greater than Max are left fully opaque.

<div class='info-box'><p>Start with the default tolerance values and adjust gradually. Increasing Min expands the fully transparent region; increasing Max softens the transition between transparent and opaque areas. The goal is to fully remove the background while preserving fine edge details like hair or translucent materials.
</p></div>

<div class="interactive-widget" id="chroma-tolerance-widget">
    <div style="display: flex; gap: 20px; align-items: flex-start; flex-wrap: wrap;">
        <!-- Left Column: Controls & Preview Strip -->
        <div style="flex: 1; min-width: 250px;">
            <div class="widget-controls" style="margin-bottom: 20px;">
                <div class="control-group" style="margin-bottom: 20px;">
                    <label style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span>Target Chroma (Hue)</span>
                        <span id="hue-val" style="color: var(--accent-primary); font-family: monospace;">120°</span>
                    </label>
                    <input type="range" id="hue-input" min="0" max="360" value="120" style="width: 100%;">
                    <div
                        style="margin-top: 8px; font-size: 0.8em; color: var(--text-muted); display: flex; align-items: center; gap: 8px;">
                        <div id="target-color-preview"
                            style="width: 20px; height: 20px; border-radius: 50%; background-color: lime; border: 1px solid var(--border-subtle);">
                        </div>
                        Target Color
                    </div>
                </div>

                <div class="control-group" style="margin-bottom: 20px;">
                    <label style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span>Min Tolerance (Transparent)</span>
                        <span id="min-val" style="color: var(--accent-primary); font-family: monospace;">20%</span>
                    </label>
                    <input type="range" id="min-input" min="1" max="100" value="20" style="width: 100%;">
                </div>

                <div class="control-group" style="margin-bottom: 20px;">
                    <label style="display: flex; justify-content: space-between; margin-bottom: 8px;">
                        <span>Max Tolerance (Opaque)</span>
                        <span id="max-val" style="color: var(--accent-primary); font-family: monospace;">50%</span>
                    </label>
                    <input type="range" id="max-input" min="1" max="100" value="50" style="width: 100%;">
                </div>
            </div>

            <div style="margin-top: 10px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 500;">Transparency Result Strip</label>
                <div style="position: relative; height: 40px; border-radius: 6px; overflow: hidden; border: 1px solid var(--border-subtle); background: 
                    conic-gradient(#ccc 90deg, #fff 90deg 180deg, #ccc 180deg 270deg, #fff 270deg) 0 0 / 20px 20px;">
                    <canvas id="strip-canvas" width="400" height="40"
                        style="width: 100%; height: 100%; display: block;"></canvas>
                </div>
                <div
                    style="display: flex; justify-content: space-between; margin-top: 5px; font-size: 0.8em; color: var(--text-muted);">
                    <span>Close Match (Transparent)</span>
                    <span>No Match (Opaque)</span>
                </div>
            </div>
        </div>

        <!-- Right Column: Visualization -->
        <div style="flex: 0 0 auto; display: flex; flex-direction: column; align-items: center;">
            <canvas id="wheel-canvas" width="300" height="300"
                style="border-radius: 50%; border: 1px solid var(--border-subtle); cursor: crosshair; touch-action: none; max-width: 100%; height: auto;"></canvas>
            <div class="widget-explainer" style="margin-top: 15px; max-width: 300px;">
                <p style="margin-bottom: 8px;">The center point represents the <strong>Target Color</strong>.</p>
                <p style="margin-bottom: 8px;"><strong>Inner Circle (Min):</strong> Colors inside are fully keyed out
                    (transparent).</p>
                <p><strong>Outer Ring (Max):</strong> Colors between circles are partially transparent (soft edge).</p>
            </div>
        </div>
    </div>
</div>

<script>
    (function () {
        const wheelCanvas = document.getElementById('wheel-canvas');
        const stripCanvas = document.getElementById('strip-canvas');
        if (!wheelCanvas || !stripCanvas) return;

        const ctxWheel = wheelCanvas.getContext('2d');
        const ctxStrip = stripCanvas.getContext('2d');

        const hueInput = document.getElementById('hue-input');
        const minInput = document.getElementById('min-input');
        const maxInput = document.getElementById('max-input');
        const minVal = document.getElementById('min-val');
        const maxVal = document.getElementById('max-val');
        const hueVal = document.getElementById('hue-val');
        const targetPreview = document.getElementById('target-color-preview');

        // State
        let targetHue = 120; // Green
        let minTol = 20;     // Percentage radius
        let maxTol = 50;     // Percentage radius

        // Constants
        const width = wheelCanvas.width;
        const height = wheelCanvas.height;
        const cx = width / 2;
        const cy = height / 2;
        const radius = Math.min(cx, cy) - 5; // Leave some margin
        const wheelRadius = radius;

        // Colors
        function hslToRgb(h, s, l) {
            let r, g, b;
            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };
                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }
            return `rgb(${Math.round(r * 255)}, ${Math.round(g * 255)}, ${Math.round(b * 255)})`;
        }

        function drawWheel() {
            // Clear
            ctxWheel.clearRect(0, 0, width, height);

            // Draw Hue/Sat disc
            // Optimization: Create an image data buffer for the wheel if performance is an issue, 
            // but for 300x300 it's acceptably fast to draw per-pixel or use a gradient approximation.
            // Let's use a simpler radial gradient approach for "Distance from Target"
            // Actually, showing the full color wheel rotated so target is up?
            // No, the requirement is "Color wheel... with target chroma key color shown as a dot".
            // So we draw a static full spectrum color wheel.

            // Draw Full Color Wheel
            const imgData = ctxWheel.createImageData(width, height);
            const data = imgData.data;

            for (let y = 0; y < height; y++) {
                for (let x = 0; x < width; x++) {
                    const dx = x - cx;
                    const dy = y - cy;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist <= wheelRadius) {
                        // Angle in radians, mapped to 0-1 hue
                        let angle = Math.atan2(dy, dx); // -PI to PI
                        let hue = (angle + Math.PI) / (2 * Math.PI); // 0-1

                        // We want to rotate the wheel so the Target Hue is at the top? 
                        // Or just mark the spot?
                        // "Target chroma key color shown as a dot".
                        // Usually easier if the wheel is standard (Red at 0/Right or Top).
                        // Let's align 0 rad (Right) to Red.

                        const sat = dist / wheelRadius;
                        const rgb = hslToRgbObj(hue, sat, 0.5);

                        const idx = (y * width + x) * 4;
                        data[idx] = rgb.r;
                        data[idx + 1] = rgb.g;
                        data[idx + 2] = rgb.b;
                        data[idx + 3] = 255;
                    }
                }
            }
            ctxWheel.putImageData(imgData, 0, 0);

            // Calculate position of target hue on the wheel
            // Hues go 0-360. 0 is Red. In our buffer generation, 0 rad is Hue 0.5 (Cyan)?
            // Wait, let's recheck hue logic above:
            // atan2(dy, dx) returns angle.
            // If angle is 0 (right), hue is 0.5.
            // If angle is PI (left), hue is 1.0 (or 0).
            // Let's adjust to standard wheel: Right=Red=0.
            // atan2 returns 0 for (1,0). 
            // We want Hue 0 at angle 0.
            // So Hue = angle / (2PI). If negative, add 1.

            // Re-draw wheel background correctly creates a lot of overhead.
            // Instead, let's draw a pre-rendered image or just simple shapes.
            // Or simpler: Just draw the tolerance circles centered on the canvas, 
            // and fill the "surrounding" area with colors representing "distance" 
            // (i.e. hue difference) from center?
            // That might be confusing.

            // Let's stick to: Background = Standard Color Wheel.
            // Overlay = Tolerance Circles centered at the Target Hue's location.
            // targetHue is 0-360.
            // Position on wheel (at max saturation):
            const hueRad = (targetHue / 360) * Math.PI * 2;
            const targetX = cx + Math.cos(hueRad) * (wheelRadius * 0.8); // 80% saturation as "default" key point?
            const targetY = cy + Math.sin(hueRad) * (wheelRadius * 0.8);

            // Actually, typical Chroma Key picks a specific H/S point. The input is just Hue 0-360.
            // Let's assume high saturation for the target.

            // Draw circles around the target point
            // Min Tolerance pixel radius
            const minPx = (minTol / 100) * wheelRadius;
            const maxPx = (maxTol / 100) * wheelRadius;

            // Draw target dot
            ctxWheel.beginPath();
            ctxWheel.arc(targetX, targetY, 5, 0, Math.PI * 2);
            ctxWheel.fillStyle = 'white';
            ctxWheel.fill();
            ctxWheel.strokeStyle = 'black';
            ctxWheel.lineWidth = 2;
            ctxWheel.stroke();

            // Draw Min Circle (Inner)
            ctxWheel.beginPath();
            ctxWheel.arc(targetX, targetY, minPx, 0, Math.PI * 2);
            ctxWheel.strokeStyle = 'rgba(255, 255, 255, 0.8)';
            ctxWheel.lineWidth = 2;
            ctxWheel.stroke();

            // Draw Max Circle (Outer)
            ctxWheel.beginPath();
            ctxWheel.arc(targetX, targetY, maxPx, 0, Math.PI * 2);
            ctxWheel.strokeStyle = 'rgba(255, 255, 255, 0.4)';
            ctxWheel.lineWidth = 1; // dashed?
            ctxWheel.setLineDash([4, 4]);
            ctxWheel.stroke();
            ctxWheel.setLineDash([]);

            // Fill Inner (Fully Transparent zone)
            ctxWheel.beginPath();
            ctxWheel.arc(targetX, targetY, minPx, 0, Math.PI * 2);
            ctxWheel.fillStyle = 'rgba(0, 0, 0, 0.5)'; // Darken to show "removed"
            ctxWheel.fill();
        }

        // Helper to get RGB object
        function hslToRgbObj(h, s, l) {
            let r, g, b;

            if (s == 0) {
                r = g = b = l; // achromatic
            } else {
                const hue2rgb = function hue2rgb(p, q, t) {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                }

                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }

            return {
                r: Math.round(r * 255),
                g: Math.round(g * 255),
                b: Math.round(b * 255)
            };
        }

        // Draw the visualization strip
        function drawStrip() {
            const w = stripCanvas.width;
            const h = stripCanvas.height;
            ctxStrip.clearRect(0, 0, w, h);

            // We simulate a gradient from "Exact Match" to "Far Color"
            // Left (0) = Target Color (Distance 0)
            // Right (100) = Opposing Color (Distance Max)

            const range = 50; // Arbitrary "distance units" shown in strip

            for (let x = 0; x < w; x++) {
                const distRatio = x / w; // 0 to 1
                const distUnits = distRatio * 100; // 0 to 100 units

                // Determine Alpha based on tolerance
                let alpha = 1.0;

                if (distUnits <= minTol) {
                    alpha = 0.0; // Fully transparent
                }
                else if (distUnits >= maxTol) {
                    alpha = 1.0; // Fully opaque
                }
                else {
                    // Interpolate
                    alpha = (distUnits - minTol) / (maxTol - minTol);
                }

                // Draw Slice
                // Color: Target hue at left, shifting hue to right
                // Actually, let's keep Hue constant and just show Alpha effect on GREEN vs BACKGROUND?
                // The widget says "green-screen-like gradient going from fully keyed -> partially -> fully opaque"

                // Let's use the Target Hue color as the base "Screen Color"
                // And composite it over the checkerboard background

                const rgb = hslToRgbObj(targetHue / 360, 1.0, 0.5);

                // If it's the screen color, we want to show it disappearing
                // So we draw the color with 'alpha' opacity?
                // No, Keying MAKES it transparent.
                // So if it matches (dist < min), it is transparent (alpha 0).

                ctxStrip.fillStyle = `rgba(${rgb.r}, ${rgb.g}, ${rgb.b}, ${alpha})`;

                // Wait, if alpha is 0 (fully keyed), we see background (checkerboard).
                // If alpha is 1 (opaque), we see the color.
                // Normally KEYING removes the green. 
                // So "Transparent" means we see background.
                // "Opaque" means we see the original green pixel.
                // So the strip should show:
                // Left side (Match): Transparent (Checks visible)
                // Middle: Semi-transparent Green
                // Right: Opaque Green (Original footage, unkeyed)

                ctxStrip.fillRect(x, 0, 1, h);
            }

            // Draw markers for Min and Max on the strip
            const minX = (minTol / 100) * w;
            const maxX = (maxTol / 100) * w;

            ctxStrip.fillStyle = 'white';
            ctxStrip.strokeStyle = 'black';
            ctxStrip.lineWidth = 1;

            // Min Marker
            ctxStrip.beginPath();
            ctxStrip.moveTo(minX, 0); ctxStrip.lineTo(minX, h);
            ctxStrip.stroke();

            // Max Marker
            ctxStrip.beginPath();
            ctxStrip.moveTo(maxX, 0); ctxStrip.lineTo(maxX, h);
            ctxStrip.stroke();

            // Labels
            ctxStrip.fillStyle = 'white';
            ctxStrip.font = '10px Roboto, sans-serif';
            ctxStrip.shadowColor = 'black';
            ctxStrip.shadowBlur = 2;
            if (minX > 20) ctxStrip.fillText("Min", minX - 22, 12);
            if (maxX < w - 25) ctxStrip.fillText("Max", maxX + 5, 12);
            ctxStrip.shadowBlur = 0;
        }

        // Optimized Wheel Background (Static)
        // Since calculating pixel-by-pixel every frame is slow
        let wheelCache = null;

        function precomputeWheel() {
            const tempCanvas = document.createElement('canvas');
            tempCanvas.width = width;
            tempCanvas.height = height;
            const tempCtx = tempCanvas.getContext('2d');
            const imgData = tempCtx.createImageData(width, height);
            const data = imgData.data;

            for (let y = 0; y < height; y++) {
                for (let x = 0; x < width; x++) {
                    const dx = x - cx;
                    const dy = y - cy;
                    const dist = Math.sqrt(dx * dx + dy * dy);

                    if (dist <= wheelRadius) {
                        const angle = Math.atan2(dy, dx);
                        let hue = angle / (2 * Math.PI);
                        if (hue < 0) hue += 1;

                        const sat = dist / wheelRadius;
                        const rgb = hslToRgbObj(hue, sat, 0.5);

                        const idx = (y * width + x) * 4;
                        data[idx] = rgb.r;
                        data[idx + 1] = rgb.g;
                        data[idx + 2] = rgb.b;
                        data[idx + 3] = 255;
                    }
                    // else transparent
                }
            }
            tempCtx.putImageData(imgData, 0, 0);
            return tempCanvas;
        }

        function update() {
            // Read inputs
            targetHue = parseInt(hueInput.value);
            minTol = parseInt(minInput.value);
            maxTol = parseInt(maxInput.value);

            // Constrain
            if (minTol >= maxTol) {
                // If user drags min past max, push max
                // But typically we prevent cross
                // Check who triggered? 
                // Simple logic: min cannot exceed max-1
                // Actually checking which element is focused or active is hard.
                // Just clamp reasonably.
                // Let visualization handle overlap naturally or enforce?
                // Enforce standard behavior: Min <= Max
                if (parseInt(minInput.value) > parseInt(maxInput.value)) {
                    // This flickers if two sliders.
                    // Let's just allow overlap visually but conceptually Min is start, Max is end.
                    // If Min > Max, the falloff is negative (instant cut).
                }
            }

            // Update Labels
            hueVal.textContent = targetHue + '°';
            minVal.textContent = minTol + '%';
            maxVal.textContent = maxTol + '%';

            targetPreview.style.backgroundColor = `hsl(${targetHue}, 100%, 50%)`;

            // Draw
            if (!wheelCache) wheelCache = precomputeWheel();

            ctxWheel.clearRect(0, 0, width, height);
            ctxWheel.drawImage(wheelCache, 0, 0);

            // Draw Overlay
            // Target Position
            const hueRad = (targetHue / 360) * Math.PI * 2;
            const distRadius = wheelRadius * 0.7; // Fixed saturation point for visualization
            const tx = cx + Math.cos(hueRad) * distRadius;
            const ty = cy + Math.sin(hueRad) * distRadius;

            // Radii in pixels
            // Map 0-100% tolerance to 0-WheelRadius pixels?
            // "Tolerance" usually maps to a distance in color space.
            // If max tolerance is 100%, it covers the whole wheel? Yes.
            const minPx = (minTol / 100) * wheelRadius;
            const maxPx = (maxTol / 100) * wheelRadius;

            // Draw Min Circle (Inner) - Transparent Zone
            ctxWheel.beginPath();
            ctxWheel.arc(tx, ty, minPx, 0, Math.PI * 2);
            ctxWheel.fillStyle = 'rgba(0,0,0,0.6)'; // Masked out
            ctxWheel.fill();
            ctxWheel.lineWidth = 2;
            ctxWheel.strokeStyle = '#fff';
            ctxWheel.stroke();

            // Draw Max Circle (Outer) - Falloff limit
            ctxWheel.beginPath();
            ctxWheel.arc(tx, ty, maxPx, 0, Math.PI * 2);
            ctxWheel.lineWidth = 2;
            ctxWheel.strokeStyle = 'rgba(255, 255, 255, 0.5)';
            ctxWheel.setLineDash([5, 5]);
            ctxWheel.stroke();
            ctxWheel.setLineDash([]);

            // Target Dot
            ctxWheel.beginPath();
            ctxWheel.arc(tx, ty, 6, 0, Math.PI * 2);
            ctxWheel.fillStyle = `hsl(${targetHue}, 100%, 50%)`;
            ctxWheel.strokeStyle = 'white';
            ctxWheel.lineWidth = 2;
            ctxWheel.fill();
            ctxWheel.stroke();

            drawStrip();
        }

        hueInput.addEventListener('input', update);
        minInput.addEventListener('input', () => {
            if (parseInt(minInput.value) > parseInt(maxInput.value)) maxInput.value = minInput.value;
            update();
        });
        maxInput.addEventListener('input', () => {
            if (parseInt(maxInput.value) < parseInt(minInput.value)) minInput.value = maxInput.value;
            update();
        });

        // Click interaction on wheel
        /*
        wheelCanvas.addEventListener('pointerdown', (e) => {
            const rect = wheelCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            // Calculate angle -> Hue
            const dx = x - cx;
            const dy = y - cy;
            let angle = Math.atan2(dy, dx);
            let hue = angle / (2 * Math.PI);
            if (hue < 0) hue += 1;
            hue = Math.round(hue * 360);
            
            hueInput.value = hue;
            update();
        });
        */
        // Simple initial draw
        update();

    })();
</script>

<h3>Spill Removal</h3>

<p>The <strong>Spill Removal</strong> control (default: 0.5) reduces color contamination — the colored fringe that often appears on foreground edges when the key color reflects onto the subject. Higher values apply more aggressive spill suppression, neutralizing the color cast on edge pixels.</p>

<h3>Visualize Mask</h3>

<p>The <strong>Visualize Mask</strong> toggle switches the cue's output to a diagnostic view that displays the generated alpha mask directly. In this mode:</p>

<ul>
<li><strong>White areas</strong> represent fully opaque pixels (foreground).</li>
<li><strong>Black areas</strong> represent fully transparent pixels (keyed out).</li>
<li><strong>Gray areas</strong> represent partially transparent pixels (the tolerance falloff zone).</li>

</ul>
This is invaluable for fine-tuning tolerance and spill removal settings. Turn off Visualize Mask when you are satisfied with the key to return to normal composited output.

<h3>Reset</h3>

<p>The <strong>Reset</strong> button restores all chroma key parameters to their default values (green target, Min tolerance 0.4, Max tolerance 0.5, spill removal 0.5, Visualize Mask off). Use this to quickly return to a clean starting point if your adjustments have become difficult to manage.</p>

<h3>Use Cases</h3>

<ul>
<li><strong>Live camera feeds</strong> — composite real-time camera input over show content by keying out the green or blue screen backdrop.</li>
<li><strong>Pre-recorded keyed footage</strong> — remove backgrounds from video content shot against a chroma backdrop.</li>
<li><strong>Removing uniform backgrounds</strong> — key out any solid-color background, not just green or blue, using the Custom preset with an appropriate target color.</li>

</ul>
<h3>Tips for Clean Keys</h3>

<ul>
<li><strong>Even lighting</strong> — ensure the chroma backdrop is lit uniformly without hotspots or shadows. Uneven lighting creates color variations that make consistent keying difficult.</li>
<li><strong>Avoid shadows on the backdrop</strong> — shadows darken the key color, pushing it outside the tolerance range and leaving residual background visible.</li>
<li><strong>Subject separation</strong> — keep the subject far enough from the backdrop to minimize spill and shadow contamination.</li>
<li><strong>Combine with opacity tweens</strong> — use an Opacity tween alongside chroma key to fade keyed content in or out smoothly during transitions.</li>

</ul></div><div class="section-nav">
                <a href="frame-blending.html" class="nav-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <polyline points="15 18 9 12 15 6"></polyline>
                    </svg>
                    Previous
                </a>
                <a href="key-and-fill.html" class="nav-btn">
                    Next
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <polyline points="9 18 15 12 9 6"></polyline>
                    </svg>
                </a></div>
                </div>
            </article>

            <footer class="content-footer">
                <p>WATCHOUT User Guide • Dataton Documentation • Generated February 2026</p>
            </footer>
        </main>
    </div>

    <!-- Mobile overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <script src="../config.js"></script>
    <script src="../toc-data.js"></script>
    <script src="../content-data.js"></script>
    <script src="../app.js"></script>
</body>
</html>